# =============================================================================
# JD-Aware Resume Engineering SaaS - Environment Variables
# =============================================================================
# Copy this file to .env in the root directory and fill in your actual values
# This single .env file is used by both frontend, backend, and docker-compose
#
# ⚠️  SECURITY WARNING ⚠️
# - NEVER commit .env files with real secrets to version control
# - Rotate any keys that may have been accidentally exposed
# - Use strong, randomly generated values for production

# -----------------------------------------------------------------------------
# CLERK AUTHENTICATION (Required)
# -----------------------------------------------------------------------------
# Get these from: https://dashboard.clerk.com/ -> Your App -> API Keys
# Used by both frontend and backend
CLERK_PUBLISHABLE_KEY=pk_test_your_publishable_key_here
CLERK_SECRET_KEY=sk_test_your_secret_key_here

# Clerk Routes (Frontend)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# -----------------------------------------------------------------------------
# BACKEND API URL (Frontend)
# -----------------------------------------------------------------------------
# Development (local): http://localhost:3001
# Docker: http://localhost:3001 (exposed via port mapping)
# Production: https://api.yourapp.com
NEXT_PUBLIC_BACKEND_URL=http://localhost:3001

# Allowed CORS origin (should match your frontend URL)
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# BACKEND SERVER SETTINGS
# -----------------------------------------------------------------------------
PORT=3001
NODE_ENV=development

# -----------------------------------------------------------------------------
# DATABASE (Backend)
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Development (local): postgresql://postgres:postgres@localhost:5432/resumedb?schema=public
# Docker: postgresql://postgres:pankaj@postgres:5432/resumedb?schema=public
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/resumedb?schema=public

# -----------------------------------------------------------------------------
# SECURITY: ENCRYPTION KEY (Backend - Required for production)
# -----------------------------------------------------------------------------
# Used to encrypt user API keys stored in database
# Generate with: openssl rand -hex 32
# MUST be exactly 64 hex characters (32 bytes)
# ⚠️ If you change this, all stored API keys will become unreadable!
ENCRYPTION_KEY=your_64_character_hex_key_here_generate_with_openssl_rand_hex_32

# -----------------------------------------------------------------------------
# SECURITY: RATE LIMITING (Backend - Optional)
# -----------------------------------------------------------------------------
# Default rate limits (requests per minute)
THROTTLE_TTL=60000
THROTTLE_LIMIT=100

# Strict rate limits for sensitive endpoints (AI, auth)
THROTTLE_STRICT_TTL=60000
THROTTLE_STRICT_LIMIT=10

# Upload rate limits
THROTTLE_UPLOAD_TTL=60000
THROTTLE_UPLOAD_LIMIT=5

# -----------------------------------------------------------------------------
# AI SERVICE (Backend - Required)
# -----------------------------------------------------------------------------
# Get from: https://studio.nebius.ai/
NEBIUS_API_KEY=your_nebius_api_key_here

# -----------------------------------------------------------------------------
# FILE STORAGE - CLOUDINARY (Backend - Required)
# -----------------------------------------------------------------------------
# Get from: https://cloudinary.com/
# Option 1: Use single URL (recommended)
CLOUDINARY_URL=cloudinary://api_key:api_secret@cloud_name

# Option 2: Use individual keys (optional, if not using CLOUDINARY_URL)
# CLOUDINARY_CLOUD_NAME=your_cloud_name
# CLOUDINARY_API_KEY=your_api_key
# CLOUDINARY_API_SECRET=your_api_secret

# =============================================================================
# USAGE INSTRUCTIONS
# =============================================================================
# 1. Copy this file to .env in the root directory: cp .env.example .env
# 2. Fill in your actual values (get API keys from respective services)
# 3. Generate ENCRYPTION_KEY: openssl rand -hex 32
# 4. For Docker: Just run `docker-compose up` - it will use this .env file
# 5. For local development:
#    - Backend will read .env from root or backend/.env
#    - Frontend will read .env from root or frontend/.env.local
# 6. Never commit .env to git (it's in .gitignore)
#
# SECURITY CHECKLIST:
# ☐ All API keys are unique per environment
# ☐ ENCRYPTION_KEY is randomly generated and stored securely
# ☐ Database credentials are not default values
# ☐ .env file is not committed to version control

